{
    "$id": "https://openvoicenetwork.org/schema/dialog-envelope.json",
    "$schema": "https://openvoicenetwork.org/schema",
    "description": "A representation of a 'dialogue envelopeâ€™ - the universal data exchange format for an OVON compliant interoperable agent.",
    "type": "object",
    "required":  ["schema" , "conversation", "sender", "response_code", "events" ],
    "properties": {
      "schema": {
        "type": "object",
        "required":  ["version" ],
        "properties": {
          "version": {
            "type": "string",
            "description": "The version of the dialog envelope specification matching this envelope."
          },
          "url": {
            "$ref": "#/$defs/url"
          }
      },
      "conversation": {
        "properties": {
            "id": {
              "type": "string",
              "description": "Unique identifier for the current conversation with the user."
            },
            "persistent_state": {
                "type": "object",
                "description": "Container for an arbitrary set of key value pairs to be persisted.",
                "additionalProperties" : {
                    "type" : "object"
                }
            }
        }
      },
      "sender": {
      },
      "response_code": {  
      }

      "events": {  
      }

    },
    "$defs": {
        "url": {
            "type": "string",
            "description": "Any valid URL"
          }
    }

}